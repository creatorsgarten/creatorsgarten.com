---
import { Icon } from 'react-iconify-icon-wrapper'

import CFImage from './cfImage.astro'

import { stringifyDate } from '$functions/stringifyDate'

import type { Event } from '$functions/getEvents'

export interface Props {
  event: Event
}

const { event } = Astro.props
---

<div class="flex space-x-4 space-y-0 sm:space-x-6">
  <a href={`/event/${event.id}`} class="shrink-0" aria-label={event.name}>
    <CFImage
      src={event.image}
      width={{
        max: 600,
        sm: 256,
      }}
      ratio={1}
      alt={event.name}
      class="w-32 border border-black sm:w-64"
    />
  </a>
  <div class="flex flex-col justify-between">
    <div>
      <a href={`/event/${event.id}`}
        ><h2 class="text-xl font-medium sm:text-3xl md:pb-1 lg:text-4xl">
          {event.name}
        </h2></a
      >
      <p class="md:text-lg">
        {stringifyDate(event.date)} â‹… {event.location}
      </p>
    </div>
    <div class="mt-4">
      <a
        href={event.link}
        class="inline-flex items-center rounded-full border border-black bg-black px-3 py-1 text-sm text-white transition-colors hover:bg-white hover:text-black md:px-4 md:py-2 md:text-base"
        ><span class="mr-2 font-medium">Tickets</span><Icon
          icon="pixelarticons:external-link"
        /></a
      >
    </div>
  </div>
</div>
